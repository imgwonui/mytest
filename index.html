<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>PAYDAY 연말정산 WorkHub</title>
    <!-- Font Awesome for Icons -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      integrity="sha512-papmdZjNgjEie3syXkRbr9Y3OJ1kWcVdxF3MBZBTyhY14FDnY5zEvQf3/yzgJ7Xw9P+e8X8VwxK81cJVby45og=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <!-- Flatpickr CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css"
    />
    <!-- FullCalendar CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.css"
      rel="stylesheet"
    />
    <!-- CSS 파일 연결 -->
    <link rel="stylesheet" href="styles.css" />

    <!-- FullCalendar JS -->
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.js"></script>
    <!-- Flatpickr JS -->
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <!-- JavaScript 파일 연결 -->
    <script src="script.js" defer></script>
  </head>
  <body>
    <!-- Login Screen -->
    <div id="login-screen">
      <div id="login-box">
        <h2>Payday WorkHub</h2>
        <input
          type="password"
          id="password-input"
          placeholder="비밀번호를 입력하세요"
        />
        <button id="login-button" type="button">접속</button>
        <p id="login-error">잘못된 비밀번호입니다.</p>
        <p id="lockout-message">
          5회 이상 잘못된 시도로 인해 로그인할 수 없습니다.
        </p>
      </div>
    </div>

    <!-- Main Content -->
    <div
      id="main-content"
      style="display: none; flex: 1; flex-direction: column"
    >
      <!-- Header -->
      <header>
        <h1 id="header-title">PAYDAY 연말정산</h1>
        <div id="search-logout">
          <div id="search-bar">
            <input type="text" id="search-input" placeholder="통합검색" />
            <button id="search-button" type="button">
              <i class="fas fa-search"></i>
            </button>
          </div>
        </div>
        <button id="logout-button" type="button">로그아웃</button>
      </header>

      <!-- Container -->
      <div class="container">
        <!-- Navigation -->
        <nav>
          <ul>
            <li><a href="#" data-section="notices">공지사항</a></li>
            <li>
              <a href="#" data-section="tax-question-search">세법 검색</a>
            </li>
            <li>
              <a href="#" data-section="system-question-search">시스템 검색</a>
            </li>
            <li>
              <a href="#" data-section="review-method-search">검토 방법 검색</a>
            </li>
            <li><a href="#" data-section="knowledge-sharing">지식 공유</a></li>
            <li><a href="#" data-section="seat-map">좌석표</a></li>
            <li><a href="#" data-section="data-room">자료실</a></li>
            <li><a href="#" data-section="leave-applications">휴가 신청</a></li>
            <li>
              <a href="#" data-section="meeting-room-applications"
                >회의실 신청</a
              >
            </li>
            <li><a href="#" data-section="links">각종 링크</a></li>
            <li><a href="#" data-section="suggestions">건의사항</a></li>
            <li><a href="#" data-section="attendance">출근도장</a></li>
          </ul>
        </nav>

        <!-- Main Content Area -->
        <main>
          <!-- Welcome Section -->
          <div id="welcome" class="section active">
            <h2>(주)월급날 WorkHub에 오신 것을 환영합니다.</h2>
            <h3>Workhub에 오신 것을 진심으로 환영합니다.</h3>
            <div class="welcome-content">
              <div class="welcome-text">
                <p>
                  업무에 필요한 정보를 서로 쉽게 공유하고자 만들어진
                  페이지입니다.
                </p>

                <!-- Dashboard Section -->
                <div class="dashboard">
                  <!-- Recent Notices -->
                  <div class="recent-notices">
                    <h3>최근 업데이트 된 공지사항</h3>
                    <ul id="recent-notices-list">
                      <!-- Recent notices will be injected here -->
                    </ul>
                  </div>

                  <!-- Recent FAQs -->
                  <div class="recent-faq">
                    <h3>최근 업데이트 된 지식 공유 FAQ</h3>
                    <ul id="recent-faq-list">
                      <!-- Recent FAQs will be injected here -->
                    </ul>
                  </div>
                </div>
                <!-- End of Dashboard Section -->
              </div>
              <div class="welcome-calendar">
                <div id="calendar"></div>
              </div>
            </div>
          </div>

          <!-- Sections -->
          <div id="notices" class="section">
            <h2>공지사항</h2>
            <div class="posts" id="notices-posts"></div>
            <p id="notices-empty" style="display: none">
              게시판에 글이 없습니다.
            </p>
            <div class="pagination" id="notices-pagination"></div>
          </div>

          <div id="tax-question-search" class="section">
            <h2>세법 검색</h2>

            <!-- 카테고리 버튼과 검색창을 같은 라인에 배치 -->
            <div class="category-and-search">
              <!-- 카테고리 버튼 -->
              <div class="category-buttons">
                <button class="category-button active" data-category="all">
                  전체
                </button>
                <button class="category-button" data-category="인적공제">
                  인적공제
                </button>
                <button class="category-button" data-category="주택자금">
                  주택자금
                </button>
                <button class="category-button" data-category="신용카드 등">
                  신용카드 등
                </button>
                <button class="category-button" data-category="보장성보험료">
                  보장성보험료
                </button>
                <button class="category-button" data-category="의료비">
                  의료비
                </button>
                <button class="category-button" data-category="교육비">
                  교육비
                </button>
                <button class="category-button" data-category="기부금">
                  기부금
                </button>
                <button class="category-button" data-category="기타">
                  기타
                </button>
              </div>

              <!-- 인라인 검색창 추가 -->
              <div class="inline-search-bar">
                <input
                  type="text"
                  id="tax-search-input"
                  placeholder="검색어를 입력하세요."
                />
                <button id="tax-search-button" type="button">
                  <i class="fas fa-search"></i>
                  <span>검색</span>
                </button>
              </div>
            </div>

            <div class="posts" id="tax-question-search-posts"></div>
            <p id="tax-question-search-empty" style="display: none">
              게시판에 글이 없습니다.
            </p>
            <div class="pagination" id="tax-question-search-pagination"></div>
          </div>

          <!-- 하나의 review-method-search 섹션으로 통합 -->
          <div id="review-method-search" class="section">
            <h2>검토 방법 검색</h2>

            <!-- 카테고리 버튼과 검색창을 같은 라인에 배치 -->
            <div class="category-and-search">
              <!-- 카테고리 버튼 -->
              <div class="category-buttons">
                <button class="category-button active" data-category="all">
                  전체
                </button>
                <button class="category-button" data-category="인적공제">
                  인적공제
                </button>
                <button class="category-button" data-category="주택자금">
                  주택자금
                </button>
                <button class="category-button" data-category="신용카드 등">
                  신용카드 등
                </button>
                <button class="category-button" data-category="보장성보험료">
                  보장성보험료
                </button>
                <button class="category-button" data-category="의료비">
                  의료비
                </button>
                <button class="category-button" data-category="교육비">
                  교육비
                </button>
                <button class="category-button" data-category="기부금">
                  기부금
                </button>
                <button class="category-button" data-category="기타">
                  기타
                </button>
              </div>

              <!-- 인라인 검색창 추가 -->
              <div class="inline-search-bar">
                <input
                  type="text"
                  id="review-search-input"
                  placeholder="검색어를 입력하세요"
                />
                <button id="review-search-button" type="button">
                  <i class="fas fa-search"></i>
                </button>
              </div>
            </div>

            <div class="posts" id="review-method-search-posts"></div>
            <p id="review-method-search-empty" style="display: none">
              게시판에 글이 없습니다.
            </p>
            <div class="pagination" id="review-method-search-pagination"></div>
          </div>

          <div id="knowledge-sharing" class="section">
            <h2>지식 공유</h2>
            <div class="posts" id="knowledge-sharing-posts"></div>
            <p id="knowledge-sharing-empty" style="display: none">
              게시판에 글이 없습니다.
            </p>
            <div class="pagination" id="knowledge-sharing-pagination"></div>
          </div>

          <div id="seat-map" class="section">
            <h2>좌석표</h2>
            <!-- 좌석표 내용 -->
            <p>좌석표 내용이 여기에 표시됩니다.</p>
          </div>

          <div id="data-room" class="section">
            <h2>자료실</h2>
            <div class="posts" id="data-room-posts"></div>
            <p id="data-room-empty" style="display: none">
              자료실에 글이 없습니다.
            </p>
            <div class="pagination" id="data-room-pagination"></div>
          </div>

          <div id="leave-applications" class="section">
            <h2>휴가 신청</h2>
            <button
              id="submit-leave-button"
              class="keyword-search-button"
              type="button"
            >
              휴가 신청
            </button>
            <div class="posts" id="leave-applications-posts"></div>
            <p id="leave-applications-empty" style="display: none">
              휴가 신청이 없습니다.
            </p>
            <div class="pagination" id="leave-applications-pagination"></div>
          </div>

          <div id="meeting-room-applications" class="section">
            <h2>회의실 신청</h2>
            <button
              id="submit-meeting-room-button"
              class="keyword-search-button"
              type="button"
            >
              회의실 신청
            </button>
            <div class="posts" id="meeting-room-applications-posts"></div>
            <p id="meeting-room-applications-empty" style="display: none">
              회의실 신청이 없습니다.
            </p>
            <div
              class="pagination"
              id="meeting-room-applications-pagination"
            ></div>
          </div>

          <div id="links" class="section">
            <h2>각종 링크</h2>
            <!-- 링크 내용 -->
            <ul>
              <li>
                <a href="https://www.hometax.go.kr" target="_blank">홈택스</a>
              </li>
              <li>
                <a href="https://qna.payday.co.kr/" target="_blank"
                  >상담게시판</a
                >
              </li>
              <li>
                <a
                  href="http://yearend-admin.paydayutil.net/ocr"
                  target="_blank"
                  >검토 페이지</a
                >
              </li>
              <li><a href="http://eip.himgt.net" target="_blank">EIP</a></li>
              <li>
                <a
                  href="https://docs.google.com/spreadsheets/d/16WAr3iNty0i5U8B0rWb2WvQ6gllnmuysZc1gjoD7YSM/edit?gid=0#gid=0"
                  target="_blank"
                  >구글시트</a
                >
              </li>
              <li>
                <a
                  href="https://payday.gitple.biz/#/pages/chat/inprogress"
                  target="_blank"
                  >깃플챗</a
                >
              </li>
            </ul>
          </div>

          <div id="suggestions" class="section">
            <h2>건의사항</h2>
            <div class="posts" id="suggestions-posts"></div>
            <p id="suggestions-empty" style="display: none">
              건의사항이 없습니다.
            </p>
            <div class="pagination" id="suggestions-pagination"></div>
          </div>

          <!-- 출근도장 Section -->
          <div id="attendance" class="section">
            <h2>출근도장</h2>
            <div class="attendance-controls">
              <button id="check-in-button" type="button">출근</button>
              <button id="check-out-button" type="button">퇴근</button>
            </div>
            <div id="attendance-calendar"></div>
          </div>
        </main>
      </div>

      <!-- Footer -->
      <footer>
        이 시스템은 (주)월급날의 소유이며, 허가 없이 접근할 시 처벌될 수
        있습니다.
      </footer>
    </div>

    <!-- Write Post Button (Admin and User) -->
    <button id="write-post-button" type="button">
      <i class="fas fa-plus">+</i>
    </button>

    <!-- Write Post Modal -->
    <div id="write-post-modal">
      <div class="modal-content">
        <button id="close-write-post" type="button">&times;</button>
        <h2 id="modal-title">게시글 작성</h2>
        <select id="post-section">
          <option value="">게시판 선택</option>
          <option value="notices">공지사항</option>
          <option value="tax-question-search">세법 질문 검색</option>
          <option value="system-question-search">시스템 질문 검색</option>
          <option value="review-method-search">검토 방법 검색</option>
          <option value="knowledge-sharing">지식 공유</option>
          <option value="data-room">자료실</option>
          <option value="leave-applications">휴가 신청</option>
          <option value="meeting-room-applications">회의실 신청</option>
          <option value="suggestions">건의사항</option>
        </select>
        <input type="text" id="post-title" placeholder="제목" />
        <textarea id="post-content" placeholder="내용"></textarea>
        <!-- 이미지 업로드 필드 (기존 유지) -->
        <input type="file" id="post-image" accept="image/*" />
        <!-- 파일 업로드 필드 추가 (자료실 전용, 기본적으로 숨김) -->
        <input
          type="file"
          id="post-file"
          accept=".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt,.zip,.rar"
          style="display: none"
        />
        <!-- 세법 태그 선택 섹션 추가 -->
        <div id="tax-tags-section" style="display: none">
          <h3 style="margin-top: 20px">태그 선택 (필수)</h3>
          <div id="tax-tags" style="margin-top: 10px">
            <button class="tax-tag" data-tag="인적공제">인적공제</button>
            <button class="tax-tag" data-tag="주택자금">주택자금</button>
            <button class="tax-tag" data-tag="신용카드 등">신용카드 등</button>
            <button class="tax-tag" data-tag="보장성보험료">
              보장성보험료
            </button>
            <button class="tax-tag" data-tag="의료비">의료비</button>
            <button class="tax-tag" data-tag="교육비">교육비</button>
            <button class="tax-tag" data-tag="기부금">기부금</button>
            <button class="tax-tag" data-tag="기타">기타</button>
          </div>
        </div>

        <button id="submit-post" type="button">게시</button>
      </div>
    </div>

    <!-- Search Modal -->
    <div id="search-modal">
      <div class="modal-content">
        <button id="close-modal" type="button">&times;</button>
        <h2>검색 결과</h2>
        <div id="search-results"></div>
        <button
          id="back-search-results"
          type="button"
          style="display: none; margin-top: 20px"
        >
          뒤로가기
        </button>
      </div>
    </div>

    <!-- Post Modal -->
    <div id="post-modal">
      <div class="modal-content">
        <button id="close-post-modal" type="button">&times;</button>
        <h2 id="post-modal-title" class="post-title"></h2>
        <small id="post-modal-date" style="display: none"></small>
        <!-- 이미지 표시를 위한 img 태그 추가 -->
        <img
          id="post-modal-image"
          style="display: none; max-width: 100%; height: auto"
        />
        <div id="post-modal-content" class="post-body"></div>
        <div class="comments-section">
          <h3>댓글</h3>
          <div id="comments-list"></div>
          <div class="add-comment">
            <textarea
              id="comment-input"
              placeholder="댓글을 작성하세요."
            ></textarea>
            <button id="add-comment-button" type="button">댓글 추가</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Board Search Modal -->
    <div id="board-search-modal">
      <div class="modal-content">
        <button id="close-board-search-modal" type="button">&times;</button>
        <h2 class="board-search-title">게시판 키워드 검색</h2>
        <!-- 검색 입력과 버튼을 감싸는 컨테이너 추가 -->
        <div class="search-controls">
          <input
            type="text"
            id="board-search-input"
            placeholder="검색어를 입력하세요."
          />
          <button id="board-search-button" type="button">검색</button>
        </div>
        <div id="board-search-results"></div>
        <button
          id="back-board-search-results"
          type="button"
          style="display: none; margin-top: 20px"
        >
          뒤로가기
        </button>
      </div>
    </div>

    <!-- Leave Application Modal -->
    <div id="leave-application-modal">
      <div class="modal-content">
        <button id="close-leave-application-modal" type="button">
          &times;
        </button>
        <h2>휴가 신청</h2>
        <select id="leave-type">
          <option value="">휴가 유형 선택</option>
          <option value="full-day">연차</option>
          <option value="half-day">반차</option>
        </select>
        <input
          type="text"
          id="leave-date"
          placeholder="휴가 날짜 선택"
          readonly
        />
        <textarea id="leave-reason" placeholder="휴가 사유"></textarea>
        <button id="submit-leave-application" type="button">신청</button>
      </div>
    </div>

    <!-- Leave Approval Modal -->
    <div id="leave-approval-modal">
      <div class="modal-content">
        <button id="close-leave-approval-modal" type="button">&times;</button>
        <h2>휴가 승인</h2>
        <div id="approval-details"></div>
        <button id="approve-leave-button" type="button">승인</button>
        <button id="reject-leave-button" type="button">거절</button>
      </div>
    </div>

    <!-- Leave Search Modal -->
    <div id="leave-search-modal">
      <div class="modal-content">
        <button id="close-leave-search-modal" type="button">&times;</button>
        <h2>휴가 검색</h2>
        <div class="search-controls">
          <input
            type="text"
            id="leave-search-input"
            placeholder="검색어를 입력하세요."
          />
          <button id="leave-search-button" type="button">검색</button>
        </div>
        <div id="leave-search-results"></div>
        <button
          id="back-leave-search-results"
          type="button"
          style="display: none; margin-top: 20px"
        >
          뒤로가기
        </button>
      </div>
    </div>
  </body>
</html>

<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>PAYDAY 연말정산 WorkHub</title>
    <!-- Font Awesome for Icons -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      integrity="sha512-papmdZjNgjEie3syXkRbr9Y3OJ1kWcVdxF3MBZBTyhY14FDnY5zEvQf3/yzgJ7Xw9P+e8X8VwxK81cJVby45og=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <!-- Flatpickr CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css"
    />
    <!-- CSS 파일 연결 -->
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <!-- Login Screen -->
    <div id="login-screen">
      <div id="login-box">
        <h2>Payday WorkHub</h2>
        <input
          type="password"
          id="password-input"
          placeholder="비밀번호를 입력하세요"
        />
        <button id="login-button" type="button">접속</button>
        <p id="login-error">잘못된 비밀번호입니다.</p>
        <p id="lockout-message">
          5회 이상 잘못된 시도로 인해 로그인할 수 없습니다.
        </p>
      </div>
    </div>

    <!-- Main Content -->
    <div
      id="main-content"
      style="display: none; flex: 1; flex-direction: column"
    >
      <!-- Header -->
      <header>
        <h1 id="header-title">PAYDAY 연말정산</h1>
        <div id="search-logout">
          <div id="search-bar">
            <input type="text" id="search-input" placeholder="통합검색" />
            <button id="search-button" type="button">
              <i class="fas fa-search"></i>
            </button>
          </div>
        </div>
        <button id="logout-button" type="button">로그아웃</button>
      </header>

      <!-- Container -->
      <div class="container">
        <!-- Navigation -->
        <nav>
          <ul>
            <li><a href="#" data-section="notices">공지사항</a></li>
            <li><a href="#" data-section="tax-search">세법</a></li>
            <li><a href="#" data-section="review-tax-search">검토법</a></li>
            <li><a href="#" data-section="faq">지식 공유 FAQ</a></li>
            <li><a href="#" data-section="seat-map">좌석표</a></li>
            <li><a href="#" data-section="links">링크</a></li>
            <li><a href="#" data-section="leave-applications">휴가신청</a></li>
          </ul>
        </nav>

        <!-- Main Content Area -->
        <main>
          <!-- Welcome Section -->
          <div id="welcome" class="section active">
            <h2>(주)월급날 WorkHub에 오신 것을 환영합니다.</h2>
            <h3>Workhub에 오신 것을 진심으로 환영합니다.</h3>
            <div>
              업무에 필요한 정보를 서로 쉽게 공유하고자 만들어진 페이지입니다.
            </div>
            <img
              src="https://media.marketrealist.com/brand-img/1DZ6opU6M/0x0/gusto-happy-payday-1632749976515.jpg"
              alt="Welcome Image"
              style="margin-top: 20px"
            />
          </div>

          <!-- Sections -->
          <div id="notices" class="section">
            <h2>공지사항</h2>
            <div class="posts" id="notices-posts"></div>
            <p id="notices-empty" style="display: none">
              게시판에 글이 없습니다.
            </p>
            <div class="pagination" id="notices-pagination"></div>
          </div>

          <div id="tax-search" class="section">
            <h2>
              세법
              <button
                class="keyword-search-button"
                onclick="openBoardSearch('tax-search')"
              >
                키워드 검색
              </button>
            </h2>
            <div class="posts" id="tax-search-posts"></div>
            <p id="tax-search-empty" style="display: none">
              게시판에 글이 없습니다.
            </p>
            <div class="pagination" id="tax-search-pagination"></div>
          </div>

          <div id="review-tax-search" class="section">
            <h2>
              검토법
              <button
                class="keyword-search-button"
                onclick="openBoardSearch('review-tax-search')"
              >
                키워드 검색
              </button>
            </h2>
            <div class="posts" id="review-tax-search-posts"></div>
            <p id="review-tax-search-empty" style="display: none">
              게시판에 글이 없습니다.
            </p>
            <div class="pagination" id="review-tax-search-pagination"></div>
          </div>

          <div id="faq" class="section">
            <h2>지식 공유 FAQ</h2>
            <div class="posts" id="faq-posts"></div>
            <p id="faq-empty" style="display: none">게시판에 글이 없습니다.</p>
            <div class="pagination" id="faq-pagination"></div>
          </div>

          <div id="seat-map" class="section">
            <h2>좌석표</h2>
            <!-- 좌석표 내용 -->
            <p>좌석표 내용이 여기에 표시됩니다.</p>
          </div>

          <div id="links" class="section">
            <h2>링크</h2>
            <!-- 링크 내용 -->
            <p>유용한 링크 모음입니다.</p>
          </div>

          <!-- 휴가신청 Section -->
          <div id="leave-applications" class="section">
            <h2>휴가신청</h2>
            <button
              id="submit-leave-button"
              class="keyword-search-button"
              type="button"
            >
              휴가 신청
            </button>
            <div class="posts" id="leave-applications-posts"></div>
            <p id="leave-applications-empty" style="display: none">
              휴가 신청이 없습니다.
            </p>
            <div class="pagination" id="leave-applications-pagination"></div>
          </div>
        </main>
      </div>

      <!-- Footer -->
      <footer>
        이 시스템은 (주)월급날의 소유이며, 허가 없이 접근할 시 처벌될 수
        있습니다.
      </footer>
    </div>

    <!-- Write Post Button (Admin and User) -->
    <button id="write-post-button" type="button">
      <i class="fas fa-plus">+</i>
    </button>

    <!-- Write Post Modal -->
    <div id="write-post-modal">
      <div class="modal-content">
        <button id="close-write-post" type="button">&times;</button>
        <h2 id="modal-title">게시글 작성</h2>
        <select id="post-section">
          <option value="">게시판 선택</option>
          <option value="notices">공지사항</option>
          <option value="tax-search">세법</option>
          <option value="review-tax-search">검토법</option>
          <option value="faq">지식 공유 FAQ</option>
        </select>
        <input type="text" id="post-title" placeholder="제목" />
        <textarea id="post-content" placeholder="내용"></textarea>
        <button id="submit-post" type="button">게시</button>
      </div>
    </div>

    <!-- Search Modal -->
    <div id="search-modal">
      <div class="modal-content">
        <button id="close-modal" type="button">&times;</button>
        <h2>검색 결과</h2>
        <div id="search-results"></div>
        <button
          id="back-search-results"
          type="button"
          style="display: none; margin-top: 20px"
        >
          뒤로가기
        </button>
      </div>
    </div>

    <!-- Post Modal -->
    <div id="post-modal">
      <div class="modal-content">
        <button id="close-post-modal" type="button">&times;</button>
        <h2 class="post-title"></h2>
        <div class="post-body"></div>
        <div class="comments-section">
          <h3>댓글</h3>
          <div id="comments-list"></div>
          <div class="add-comment">
            <textarea
              id="comment-input"
              placeholder="댓글을 작성하세요"
            ></textarea>
            <button id="add-comment-button" type="button">댓글 추가</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Board Search Modal -->
    <div id="board-search-modal">
      <div class="modal-content">
        <button id="close-board-search-modal" type="button">&times;</button>
        <h2 class="board-search-title">게시판 키워드 검색</h2>
        <!-- 수정된 부분: 검색 입력과 버튼을 감싸는 컨테이너 추가 -->
        <div class="search-controls">
          <input
            type="text"
            id="board-search-input"
            placeholder="검색어를 입력하세요."
          />
          <button id="board-search-button" type="button">검색</button>
        </div>
        <div id="board-search-results"></div>
        <button
          id="back-board-search-results"
          type="button"
          style="display: none; margin-top: 20px"
        >
          뒤로가기
        </button>
      </div>
    </div>

    <!-- Leave Application Modal -->
    <div id="leave-application-modal">
      <div class="modal-content">
        <button id="close-leave-application-modal" type="button">
          &times;
        </button>
        <h2>휴가 신청</h2>
        <select id="leave-type">
          <option value="">휴가 유형 선택</option>
          <option value="full-day">연차</option>
          <option value="half-day">반차</option>
        </select>
        <input
          type="text"
          id="leave-date"
          placeholder="휴가 날짜 선택"
          readonly
        />
        <textarea id="leave-reason" placeholder="휴가 사유"></textarea>
        <button id="submit-leave-application" type="button">신청</button>
      </div>
    </div>

    <!-- Leave Approval Modal -->
    <div id="leave-approval-modal">
      <div class="modal-content">
        <button id="close-leave-approval-modal" type="button">&times;</button>
        <h2>휴가 승인</h2>
        <div id="approval-details"></div>
        <button id="approve-leave-button" type="button">승인</button>
        <button id="reject-leave-button" type="button">거절</button>
      </div>
    </div>

    <!-- Leave Search Modal -->
    <div id="leave-search-modal">
      <div class="modal-content">
        <button id="close-leave-search-modal" type="button">&times;</button>
        <h2>휴가 검색</h2>
        <div class="search-controls">
          <input
            type="text"
            id="leave-search-input"
            placeholder="검색어를 입력하세요."
          />
          <button id="leave-search-button" type="button">검색</button>
        </div>
        <div id="leave-search-results"></div>
        <button
          id="back-leave-search-results"
          type="button"
          style="display: none; margin-top: 20px"
        >
          뒤로가기
        </button>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="script.js"></script>
  </body>
</html>
